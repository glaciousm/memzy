spring:
  application:
    name: memzy-backend

  datasource:
    url: jdbc:postgresql://127.0.0.1:5434/memzy_db
    username: memzy_user
    password: memzy_password
    driver-class-name: org.postgresql.Driver

  jpa:
    hibernate:
      ddl-auto: update
    show-sql: false
    properties:
      hibernate:
        dialect: org.hibernate.dialect.PostgreSQLDialect
        format_sql: true

  servlet:
    multipart:
      enabled: true
      max-file-size: 500MB
      max-request-size: 500MB

  redis:
    host: localhost
    port: 6379
    password:
    timeout: 60000

# Application specific configuration
memzy:
  app:
    base-url: ${APP_BASE_URL:http://localhost:5173}

  jwt:
    secret: ${JWT_SECRET:bWVtenktc2VjcmV0LWtleS1mb3ItZGV2ZWxvcG1lbnQtb25seS1jaGFuZ2UtaW4tcHJvZHVjdGlvbg==}
    expiration: 86400000  # 24 hours in milliseconds
    refresh-expiration: 604800000  # 7 days

  storage:
    original-path: ${ORIGINAL_PATH:./memzy-backend/storage/original}
    thumbnail-path: ${THUMBNAIL_PATH:./memzy-backend/storage/thumbnails}
    temp-path: ${TEMP_PATH:./memzy-backend/storage/temp}

  media:
    supported-image-formats: jpg,jpeg,png,gif,webp,bmp,tiff
    supported-video-formats: mp4,avi,mov,mkv,webm,flv,wmv
    thumbnail-sizes: 150,300,600,1200

  cloud:
    google-drive:
      enabled: false
      client-id: ${GOOGLE_CLIENT_ID:}
      client-secret: ${GOOGLE_CLIENT_SECRET:}
    dropbox:
      enabled: false
      client-id: ${DROPBOX_CLIENT_ID:}
      client-secret: ${DROPBOX_CLIENT_SECRET:}
    onedrive:
      enabled: false
      client-id: ${ONEDRIVE_CLIENT_ID:}
      client-secret: ${ONEDRIVE_CLIENT_SECRET:}

server:
  port: 8080
  error:
    include-message: always
    include-stacktrace: on_param

logging:
  level:
    com.memzy: DEBUG
    org.springframework.security: DEBUG
